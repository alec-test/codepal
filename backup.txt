<script>
		 
		

		//submit button to call getRequest
		loadScript();
		$('#search-term').submit(function(event){
			event.preventDefault();
			var searchTerm = $('#query').val();
		    test = getRequest(searchTerm);
		    
		});
		function getRequest(searchTerm){
			var params = {
				part:'snippet',
				key: "AIzaSyCGO6aUgvp2QoGw5Gw16uItLy1MBnRQF1E",
				q:searchTerm
			  };
			url = 'https://www.googleapis.com/youtube/v3/search';
			
			console.log($.getJSON(url, params, function(dataJSON){
				var videos = dataJSON.items;
				
				// Let's loop over the thisVideos returned by the youTube API
				for (var i = 0; i < videos.length; i++) { 
					// This is the object (returned by searchResult) we're on...
					var thisVideo = videos[i];
					var thisVideoURL = thisVideo.snippet.thumbnails.medium.url;
					var thisVideoID = thisVideo.id.videoId;
					
					// We're creating a DOM element for the object
					var elem = document.createElement('img');
					elem.content = thisVideo;
					elem.setAttribute("id", thisVideoID);
					elem.setAttribute("src", thisVideoURL);
					
					// ... and when we click, load the respective video
					elem.addEventListener('click', (function(clickEvent) {
						return function() {
							var YoutubeVideoID = $(this).attr('id');
							onYouTubePlayerAPIReady();
							// Replace the 'ytplayer' element with an <iframe> and
							// YouTube player after the API code downloads.
							var player;
							function onYouTubePlayerAPIReady() {
								player = new YT.Player('ytplayer', {
									height : '360',
									width : '640',
									videoId : YoutubeVideoID
								});
							}
						};
					})(thisVideo));
					
					document.body.appendChild(elem);
				}
			}));			
		}

		
		
		
	</script>